<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />

    <title>StreamFlix - Watch TV Shows and Movies Online</title>
  </head>
  <body>
    <!-- Landing Page -->
    <div id="landing" class="page active">
      <nav class="navbar">
        <div class="logo">StreamFlix</div>
        <ul class="nav-links">
          <li><a href="#" onclick="showPage('landing')">Home</a></li>
          <li><a href="#" onclick="showPage('browse')">TV Shows</a></li>
          <li><a href="#" onclick="showPage('browse')">Movies</a></li>
          <li><a href="#" onclick="showPage('browse')">New & Popular</a></li>
          <li><a href="#" onclick="showPage('browse')">My List</a></li>
        </ul>
        <div class="nav-right">
          <div class="search-container">
            <div class="search-icon" onclick="toggleSearch()">üîç</div>
            <div class="search-bar">
              <input
                type="text"
                placeholder="Search movies, shows..."
                id="search-input"
                onkeyup="handleSearch()"
                oninput="handleSearch()"
              />
              <div class="search-results" id="search-results"></div>
            </div>
          </div>
          <div class="notifications-menu">
            <div class="notifications" onclick="toggleNotifications()">
              üîî
              <div class="notification-badge" id="notification-badge">3</div>
            </div>
            <div class="notifications-dropdown">
              <div class="notification-item">
                <div class="notification-icon">üé¨</div>
                <div class="notification-content">
                  <div class="notification-title">New Episode Available</div>
                  <div class="notification-text">
                    Stranger Things Season 4 Episode 9 is now available
                  </div>
                  <div class="notification-time">2 hours ago</div>
                </div>
              </div>
              <div class="notification-item">
                <div class="notification-icon">‚≠ê</div>
                <div class="notification-content">
                  <div class="notification-title">New Movie Added</div>
                  <div class="notification-text">
                    The latest blockbuster has been added to your watchlist
                  </div>
                  <div class="notification-time">1 day ago</div>
                </div>
              </div>
              <div class="notification-item">
                <div class="notification-icon">üé≠</div>
                <div class="notification-content">
                  <div class="notification-title">Recommendation</div>
                  <div class="notification-text">
                    Based on your viewing history, you might like "The Crown"
                  </div>
                  <div class="notification-time">3 days ago</div>
                </div>
              </div>
              <div class="notification-item">
                <div class="notification-icon">üíª</div>
                <div class="notification-content">
                  <div class="notification-title">Account Update</div>
                  <div class="notification-text">
                    Your subscription has been renewed successfully
                  </div>
                  <div class="notification-time">1 week ago</div>
                </div>
              </div>
            </div>
          </div>
          <div class="profile-menu">
            <div class="profile" onclick="toggleProfile()">üë§</div>
            <div class="profile-dropdown">
              <a href="#" onclick="showProfile()">Manage Profiles</a>
              <a href="#" onclick="showAccount()">Account</a>
              <a href="#" onclick="showHelp()">Help Center</a>
              <a href="#" onclick="signOut()">Sign Out</a>
            </div>
          </div>
        </div>
      </nav>

      <div class="hero">
        <div class="hero-content">
          <h1>Unlimited movies, TV shows, and more</h1>
          <p>Watch anywhere. Cancel anytime.</p>
          <div class="hero-buttons">
            <button class="btn btn-primary" onclick="showPage('browse')">
              Get Started
            </button>
            <button class="btn btn-secondary" onclick="showPage('signin')">
              Sign In
            </button>
          </div>
        </div>
      </div>

      <div class="content-section">
        <div class="content-row">
          <div class="content-text">
            <h2>Enjoy on your TV</h2>
            <p>
              Watch on Smart TVs, PlayStation, Xbox, Chromecast, Apple TV,
              Blu-ray players, and more.
            </p>
          </div>
          <div class="content-media">
            <img
              src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><rect fill='%23222' width='400' height='300' rx='20'/><rect fill='%23333' x='20' y='20' width='360' height='200' rx='10'/><rect fill='%23e50914' x='160' y='90' width='80' height='60' rx='5'/><polygon fill='%23fff' points='180,110 200,120 180,130'/></svg>"
              alt="TV"
            />
          </div>
        </div>
      </div>

      <div class="content-section">
        <div class="content-row">
          <div class="content-text">
            <h2>Download your shows to watch offline</h2>
            <p>
              Save your favorites easily and always have something to watch.
            </p>
          </div>
          <div class="content-media">
            <img
              src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 400'><rect fill='%23222' width='300' height='400' rx='20'/><rect fill='%23333' x='20' y='40' width='260' height='180' rx='10'/><rect fill='%23e50914' x='60' y='80' width='180' height='100' rx='5'/><circle fill='%23fff' cx='150' cy='130' r='20'/><polygon fill='%23222' points='145,120 155,130 145,140'/></svg>"
              alt="Mobile"
            />
          </div>
        </div>
      </div>

      <div class="content-section">
        <div class="content-row">
          <div class="content-text">
            <h2>Watch everywhere</h2>
            <p>
              Stream unlimited movies and TV shows on your phone, tablet,
              laptop, and TV.
            </p>
          </div>
          <div class="content-media">
            <img
              src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><rect fill='%23222' width='400' height='300' rx='20'/><rect fill='%23333' x='20' y='20' width='360' height='200' rx='10'/><rect fill='%23e50914' x='50' y='50' width='300' height='140' rx='5'/><rect fill='%23fff' x='170' y='100' width='60' height='40' rx='5'/></svg>"
              alt="Devices"
            />
          </div>
        </div>
      </div>

      <div class="footer">
        <div class="footer-content">
          <div class="footer-links">
            <div>
              <a href="#">FAQ</a>
              <a href="#">Investor Relations</a>
              <a href="#">Privacy</a>
              <a href="#">Speed Test</a>
            </div>
            <div>
              <a href="#">Help Center</a>
              <a href="#">Jobs</a>
              <a href="#">Cookie Preferences</a>
              <a href="#">Legal Notices</a>
            </div>
            <div>
              <a href="#">Account</a>
              <a href="#">Ways to Watch</a>
              <a href="#">Corporate Information</a>
              <a href="#">Only on StreamFlix</a>
            </div>
            <div>
              <a href="#">Media Center</a>
              <a href="#">Terms of Use</a>
              <a href="#">Contact Us</a>
            </div>
          </div>
          <p>&copy; 2024 StreamFlix, Inc.</p>
        </div>
      </div>
    </div>

    <!-- Sign In Page -->
    <div id="signin" class="page">
      <nav class="navbar">
        <div class="logo" onclick="showPage('landing')">StreamFlix</div>
      </nav>

      <div class="signin-container">
        <div class="signin-form">
          <h1>Sign In</h1>
          <form onsubmit="handleSignIn(event)">
            <div class="form-group">
              <input
                type="email"
                placeholder="Email or phone number"
                required
              />
            </div>
            <div class="form-group">
              <input type="password" placeholder="Password" required />
            </div>
            <button
              type="submit"
              class="btn btn-primary"
              style="width: 100%; padding: 16px"
            >
              Sign In
            </button>
          </form>
          <p style="margin-top: 20px; color: #b3b3b3">
            New to StreamFlix?
            <a href="#" onclick="showPage('signup')" style="color: #fff"
              >Sign up now</a
            >.
          </p>
        </div>
      </div>
    </div>

    <!-- Sign Up Page -->
    <div id="signup" class="page">
      <nav class="navbar">
        <div class="logo" onclick="showPage('landing')">StreamFlix</div>
      </nav>

      <div class="signin-container">
        <div class="signin-form">
          <h1>Sign Up</h1>
          <form onsubmit="handleSignUp(event)">
            <div class="form-group">
              <input type="text" placeholder="First Name" required />
            </div>
            <div class="form-group">
              <input type="text" placeholder="Last Name" required />
            </div>
            <div class="form-group">
              <input type="email" placeholder="Email" required />
            </div>
            <div class="form-group">
              <input type="password" placeholder="Password" required />
            </div>
            <button
              type="submit"
              class="btn btn-primary"
              style="width: 100%; padding: 16px"
            >
              Sign Up
            </button>
          </form>
          <p style="margin-top: 20px; color: #b3b3b3">
            Already have an account?
            <a href="#" onclick="showPage('signin')" style="color: #fff"
              >Sign in</a
            >.
          </p>
        </div>
      </div>
    </div>

    <!-- Browse Page -->
    <div id="browse" class="page">
      <nav class="navbar">
        <div class="logo" onclick="showPage('landing')">StreamFlix</div>
        <ul class="nav-links">
          <li><a href="#" onclick="showPage('browse')">Home</a></li>
          <li><a href="#" onclick="filterContent('tv')">TV Shows</a></li>
          <li><a href="#" onclick="filterContent('movies')">Movies</a></li>
          <li><a href="#" onclick="filterContent('new')">New & Popular</a></li>
          <li><a href="#" onclick="filterContent('mylist')">My List</a></li>
        </ul>
        <div class="nav-right">
          <div class="search-container">
            <div class="search-icon" onclick="toggleSearch()">üîç</div>
            <div class="search-bar">
              <input
                type="text"
                placeholder="Search movies, shows..."
                id="search-input"
                onkeyup="handleSearch()"
                oninput="handleSearch()"
              />
              <div class="search-results" id="search-results"></div>
            </div>
          </div>
          <div class="notifications-menu">
            <div class="notifications" onclick="toggleNotifications()">
              üîî
              <div class="notification-badge" id="notification-badge">3</div>
            </div>
            <div class="notifications-dropdown">
              <div class="notification-item">
                <div class="notification-icon">üé¨</div>
                <div class="notification-content">
                  <div class="notification-title">New Episode Available</div>
                  <div class="notification-text">
                    Stranger Things Season 4 Episode 9 is now available
                  </div>
                  <div class="notification-time">2 hours ago</div>
                </div>
              </div>
              <div class="notification-item">
                <div class="notification-icon">‚≠ê</div>
                <div class="notification-content">
                  <div class="notification-title">New Movie Added</div>
                  <div class="notification-text">
                    The latest blockbuster has been added to your watchlist
                  </div>
                  <div class="notification-time">1 day ago</div>
                </div>
              </div>
              <div class="notification-item">
                <div class="notification-icon">üé≠</div>
                <div class="notification-content">
                  <div class="notification-title">Recommendation</div>
                  <div class="notification-text">
                    Based on your viewing history, you might like "The Crown"
                  </div>
                  <div class="notification-time">3 days ago</div>
                </div>
              </div>
              <div class="notification-item">
                <div class="notification-icon">üíª</div>
                <div class="notification-content">
                  <div class="notification-title">Account Update</div>
                  <div class="notification-text">
                    Your subscription has been renewed successfully
                  </div>
                  <div class="notification-time">1 week ago</div>
                </div>
              </div>
            </div>
          </div>
          <div class="profile-menu">
            <div class="profile" onclick="toggleProfile()">üë§</div>
            <div class="profile-dropdown">
              <a href="#" onclick="showProfile()">Manage Profiles</a>
              <a href="#" onclick="showAccount()">Account</a>
              <a href="#" onclick="showHelp()">Help Center</a>
              <a href="#" onclick="signOut()">Sign Out</a>
            </div>
          </div>
        </div>
      </nav>

      <div class="browse-header">
        <h1>Popular on StreamFlix</h1>
        <p>Trending now</p>
      </div>

      <div class="category-section">
        <h2 class="category-title">Trending Now</h2>
        <div class="movie-row" id="trending-row">
          <!-- Movies will be populated by JavaScript -->
        </div>
      </div>

      <div class="category-section">
        <h2 class="category-title">Action Movies</h2>
        <div class="movie-row" id="action-row">
          <!-- Movies will be populated by JavaScript -->
        </div>
      </div>

      <div class="category-section">
        <h2 class="category-title">Comedies</h2>
        <div class="movie-row" id="comedy-row">
          <!-- Movies will be populated by JavaScript -->
        </div>
      </div>

      <div class="category-section">
        <h2 class="category-title">Documentaries</h2>
        <div class="movie-row" id="documentary-row">
          <!-- Movies will be populated by JavaScript -->
        </div>
      </div>
    </div>

    <!-- Movie Detail Page -->
    <div id="movie-detail" class="page">
      <nav class="navbar">
        <div class="logo" onclick="showPage('landing')">StreamFlix</div>
        <ul class="nav-links">
          <li><a href="#" onclick="showPage('browse')">‚Üê Back to Browse</a></li>
        </ul>
        <div class="nav-right">
          <div class="profile-menu">
            <div class="profile" onclick="toggleProfile()">üë§</div>
            <div class="profile-dropdown">
              <a href="#">Manage Profiles</a>
              <a href="#">Account</a>
              <a href="#">Help Center</a>
              <a href="#" onclick="showPage('signin')">Sign Out</a>
            </div>
          </div>
        </div>
      </nav>

      <div class="hero" id="movie-hero">
        <div class="hero-content">
          <h1 id="movie-title">Movie Title</h1>
          <p id="movie-description">Movie description will go here...</p>
          <div class="hero-buttons">
            <button class="btn btn-primary" onclick="playVideo()">
              ‚ñ∂ Play
            </button>
            <button class="btn btn-secondary" onclick="addToList()">
              + My List
            </button>
          </div>
        </div>
      </div>

      <div class="content-section">
        <div style="max-width: 1200px; margin: 0 auto">
          <h2 style="margin-bottom: 20px">More Like This</h2>
          <div class="movie-grid" id="similar-movies">
            <!-- Similar movies will be populated by JavaScript -->
          </div>
        </div>
      </div>
    </div>

    <!-- Video Player -->
    <div class="video-player" id="video-player">
      <div class="video-container">
        <button class="close-video" onclick="closeVideo()">√ó</button>
        <video controls id="main-video">
          <source src="" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
      </div>
    </div>
    <script>// Sample movie data
const movies = {
  trending: [
    {
      id: 1,
      title: "Stranger Things",
      year: "2022",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23e50914' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>ST</text></svg>",
      description:
        "A group of young friends witness supernatural forces and secret government exploits.",
    },
    {
      id: 2,
      title: "The Crown",
      year: "2023",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23ffd700' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='black' font-size='20'>üëë</text></svg>",
      description:
        "The gripping, decades-spanning inside story of Her Majesty Queen Elizabeth II.",
    },
    {
      id: 3,
      title: "Money Heist",
      year: "2021",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23ff6b6b' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üí∞</text></svg>",
      description:
        "An unusual group of robbers attempt to carry out the most perfect robbery in Spanish history.",
    },
    {
      id: 4,
      title: "Bridgerton",
      year: "2022",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23ff69b4' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üåπ</text></svg>",
      description:
        "The eight close-knit siblings of the Bridgerton family look for love and happiness in London high society.",
    },
    {
      id: 5,
      title: "Ozark",
      year: "2022",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%234a90e2' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üèûÔ∏è</text></svg>",
      description:
        "A financial advisor drags his family from Chicago to the Missouri Ozarks to launder money for a Mexican cartel.",
    },
  ],
  action: [
    {
      id: 6,
      title: "Extraction",
      year: "2020",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23ff4500' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üî•</text></svg>",
      description:
        "A black-market mercenary who has nothing to lose is hired to rescue the kidnapped son of an imprisoned international crime lord.",
    },
    {
      id: 7,
      title: "The Old Guard",
      year: "2020",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%232e8b57' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>‚öîÔ∏è</text></svg>",
      description:
        "A covert team of immortal mercenaries is suddenly exposed and must now fight to keep their identity a secret.",
    },
    {
      id: 8,
      title: "6 Underground",
      year: "2019",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23dc143c' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üí•</text></svg>",
      description:
        "Six individuals from all around the globe, each the very best at what they do, have been chosen for their unique skills.",
    },
    {
      id: 9,
      title: "Triple Frontier",
      year: "2019",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%238b4513' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üéØ</text></svg>",
      description:
        "Struggling to make ends meet, former special ops soldiers reunite for a high-stakes heist.",
    },
    {
      id: 10,
      title: "Spenser Confidential",
      year: "2020",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23696969' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üîç</text></svg>",
      description:
        "An ex-cop and his ex-con partner team up to take down Boston's most corrupt cops.",
    },
  ],
  comedy: [
    {
      id: 11,
      title: "The Kissing Booth",
      year: "2018",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23ff1493' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üíã</text></svg>",
      description:
        "A high school student finds herself at the center of a love triangle when she runs a kissing booth at her school carnival.",
    },
    {
      id: 12,
      title: "To All the Boys",
      year: "2018",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23ff69b4' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üíï</text></svg>",
      description:
        "A teenage girl's secret love letters are exposed and her love life goes from imaginary to out of control.",
    },
    {
      id: 13,
      title: "The Half of It",
      year: "2020",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%2300ced1' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üìù</text></svg>",
      description:
        "A shy student helps the sweet jock woo a girl they both like, leading to an unexpected love triangle.",
    },
    {
      id: 14,
      title: "Always Be My Maybe",
      year: "2019",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23ff6347' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üçú</text></svg>",
      description:
        "Everyone assumed childhood friends Sasha and Marcus would end up together, except Sasha and Marcus.",
    },
    {
      id: 15,
      title: "Murder Mystery",
      year: "2019",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%239370db' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üî™</text></svg>",
      description:
        "A New York cop and his wife go on a European vacation to reinvigorate their marriage, but end up getting framed for murder.",
    },
  ],
  documentary: [
    {
      id: 16,
      title: "My Octopus Teacher",
      year: "2020",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23008080' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üêô</text></svg>",
      description:
        "A filmmaker forges an unusual friendship with an octopus living in a South African kelp forest.",
    },
    {
      id: 17,
      title: "Tiger King",
      year: "2020",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23ff8c00' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üêÖ</text></svg>",
      description:
        "A rivalry between big cat eccentrics takes a dark turn when a federal investigation threatens to destroy their empire.",
    },
    {
      id: 18,
      title: "The Social Dilemma",
      year: "2020",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%231e90ff' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üì±</text></svg>",
      description:
        "Tech experts sound the alarm on the dangerous human impact of social networking.",
    },
    {
      id: 19,
      title: "Seaspiracy",
      year: "2021",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23006400' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üåä</text></svg>",
      description:
        "Filmmaker Ali Tabrizi explores the environmental impact of fishing and challenges viewers to rethink their dietary choices.",
    },
    {
      id: 20,
      title: "The Last Dance",
      year: "2020",
      image:
        "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 300'><rect fill='%23800080' width='200' height='300'/><text x='100' y='150' text-anchor='middle' fill='white' font-size='20'>üèÄ</text></svg>",
      description:
        "Charting the rise of the 1990s Chicago Bulls, led by Michael Jordan, one of the most notable dynasties in sports history.",
    },
  ],
};

let currentUser = null;
let myList = [];
let currentMovie = null;

// Page navigation
function showPage(pageId) {
  const pages = document.querySelectorAll(".page");
  pages.forEach((page) => page.classList.remove("active"));
  document.getElementById(pageId).classList.add("active");

  if (pageId === "browse") {
    populateMovieRows();
  }
}

// Populate movie rows
function populateMovieRows() {
  populateRow("trending-row", movies.trending);
  populateRow("action-row", movies.action);
  populateRow("comedy-row", movies.comedy);
  populateRow("documentary-row", movies.documentary);
}

function populateRow(rowId, movieList) {
  const row = document.getElementById(rowId);
  row.innerHTML = "";

  movieList.forEach((movie) => {
    const movieCard = createMovieCard(movie);
    row.appendChild(movieCard);
  });
}

function createMovieCard(movie) {
  const card = document.createElement("div");
  card.className = "movie-card";
  card.onclick = () => showMovieDetail(movie);

  card.innerHTML = `
                <img src="${movie.image}" alt="${movie.title}">
                <div class="movie-info">
                    <div class="movie-title">${movie.title}</div>
                    <div class="movie-year">${movie.year}</div>
                </div>
            `;

  return card;
}

// Movie detail page
function showMovieDetail(movie) {
  currentMovie = movie;
  document.getElementById("movie-title").textContent = movie.title;
  document.getElementById("movie-description").textContent = movie.description;

  // Set background image
  const hero = document.getElementById("movie-hero");
  hero.style.background = `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), ${movie.image}`;
  hero.style.backgroundSize = "cover";
  hero.style.backgroundPosition = "center";

  // Populate similar movies
  const similarMovies = document.getElementById("similar-movies");
  similarMovies.innerHTML = "";

  // Get random movies from all categories
  const allMovies = [
    ...movies.trending,
    ...movies.action,
    ...movies.comedy,
    ...movies.documentary,
  ];
  const randomMovies = allMovies
    .filter((m) => m.id !== movie.id)
    .sort(() => 0.5 - Math.random())
    .slice(0, 12);

  randomMovies.forEach((movie) => {
    const card = createMovieCard(movie);
    similarMovies.appendChild(card);
  });

  showPage("movie-detail");
}

// Authentication
function handleSignIn(event) {
  event.preventDefault();
  const email = event.target.querySelector('input[type="email"]').value;
  currentUser = { email: email };
  showPage("browse");
}

function handleSignUp(event) {
  event.preventDefault();
  const firstName = event.target.querySelector(
    'input[placeholder="First Name"]'
  ).value;
  const lastName = event.target.querySelector(
    'input[placeholder="Last Name"]'
  ).value;
  const email = event.target.querySelector('input[type="email"]').value;

  currentUser = {
    firstName: firstName,
    lastName: lastName,
    email: email,
  };
  showPage("browse");
}

// Video player
function playVideo() {
  const videoPlayer = document.getElementById("video-player");
  const video = document.getElementById("main-video");

  // Create a demo video source (placeholder)
  video.src =
    "data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC";

  videoPlayer.style.display = "flex";
  video.play();
}

function closeVideo() {
  const videoPlayer = document.getElementById("video-player");
  const video = document.getElementById("main-video");

  videoPlayer.style.display = "none";
  video.pause();
  video.currentTime = 0;
}

// My List functionality
function addToList() {
  if (currentMovie && !myList.find((movie) => movie.id === currentMovie.id)) {
    myList.push(currentMovie);
    alert(`${currentMovie.title} added to your list!`);
  } else {
    alert("Movie is already in your list!");
  }
}

// Profile dropdown
function toggleProfile() {
  const profileMenu = document.querySelector(".profile-menu");
  profileMenu.classList.toggle("active");
}

// Search functionality
let searchTimeout;

function toggleSearch() {
  const searchContainer = document.querySelector(".search-container");
  const searchInput = document.getElementById("search-input");

  searchContainer.classList.toggle("active");

  if (searchContainer.classList.contains("active")) {
    searchInput.focus();
  } else {
    searchInput.value = "";
    document.getElementById("search-results").innerHTML = "";
  }
}

function handleSearch() {
  const query = document.getElementById("search-input").value;
  const resultsContainer = document.getElementById("search-results");

  clearTimeout(searchTimeout);

  if (query.length < 2) {
    resultsContainer.innerHTML = "";
    return;
  }

  searchTimeout = setTimeout(() => {
    const allMovies = [
      ...movies.trending,
      ...movies.action,
      ...movies.comedy,
      ...movies.documentary,
    ];
    const filteredMovies = allMovies.filter(
      (movie) =>
        movie.title.toLowerCase().includes(query.toLowerCase()) ||
        movie.description.toLowerCase().includes(query.toLowerCase())
    );

    resultsContainer.innerHTML = "";

    if (filteredMovies.length > 0) {
      filteredMovies.slice(0, 5).forEach((movie) => {
        const resultItem = document.createElement("div");
        resultItem.className = "search-result-item";
        resultItem.innerHTML = `
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <img src="${movie.image}" alt="${movie.title}" style="width: 40px; height: 60px; object-fit: cover; border-radius: 4px;">
                                <div>
                                    <div style="font-weight: bold;">${movie.title}</div>
                                    <div style="color: #b3b3b3; font-size: 0.9rem;">${movie.year}</div>
                                </div>
                            </div>
                        `;
        resultItem.onclick = () => {
          showMovieDetail(movie);
          toggleSearch();
        };
        resultsContainer.appendChild(resultItem);
      });
    } else {
      resultsContainer.innerHTML =
        '<div style="padding: 10px; color: #b3b3b3;">No results found</div>';
    }
  }, 300);
}

// Notifications functionality
function toggleNotifications() {
  const notificationsMenu = document.querySelector(".notifications-menu");
  const badge = document.getElementById("notification-badge");

  notificationsMenu.classList.toggle("active");

  if (notificationsMenu.classList.contains("active")) {
    // Mark notifications as read
    badge.style.display = "none";
  }
}

// Profile functionality
function showProfile() {
  alert("Profile management feature coming soon!");
}

function showAccount() {
  alert(
    "Account settings:\n\n‚Ä¢ Email: " +
      (currentUser ? currentUser.email : "Not signed in") +
      "\n‚Ä¢ Subscription: Premium\n‚Ä¢ Billing: Monthly"
  );
}

function showHelp() {
  alert(
    "Help Center:\n\n‚Ä¢ How to use StreamFlix\n‚Ä¢ Billing questions\n‚Ä¢ Technical support\n‚Ä¢ Contact us\n\nFor more help, visit our website support section."
  );
}

function signOut() {
  currentUser = null;
  myList = [];
  showPage("signin");
  alert("You have been signed out successfully!");
}

// Filter content
function filterContent(category, query = "") {
  let filteredMovies = [];

  switch (category) {
    case "tv":
      filteredMovies = movies.trending.filter(
        (movie) =>
          movie.title.includes("Stranger Things") ||
          movie.title.includes("The Crown") ||
          movie.title.includes("Bridgerton")
      );
      break;
    case "movies":
      filteredMovies = [...movies.action, ...movies.comedy];
      break;
    case "new":
      filteredMovies = movies.trending.filter(
        (movie) => parseInt(movie.year) >= 2022
      );
      break;
    case "mylist":
      filteredMovies = myList;
      break;
    case "search":
      const allMovies = [
        ...movies.trending,
        ...movies.action,
        ...movies.comedy,
        ...movies.documentary,
      ];
      filteredMovies = allMovies.filter(
        (movie) =>
          movie.title.toLowerCase().includes(query.toLowerCase()) ||
          movie.description.toLowerCase().includes(query.toLowerCase())
      );
      break;
    default:
      return;
  }

  // Clear all rows and show filtered content
  const rows = ["trending-row", "action-row", "comedy-row", "documentary-row"];
  rows.forEach((rowId) => {
    const row = document.getElementById(rowId);
    row.innerHTML = "";
  });

  // Show filtered movies in the first row
  if (filteredMovies.length > 0) {
    populateRow("trending-row", filteredMovies);

    // Update the category title
    const categoryTitle = document.querySelector(".category-title");
    switch (category) {
      case "tv":
        categoryTitle.textContent = "TV Shows";
        break;
      case "movies":
        categoryTitle.textContent = "Movies";
        break;
      case "new":
        categoryTitle.textContent = "New & Popular";
        break;
      case "mylist":
        categoryTitle.textContent = "My List";
        break;
      case "search":
        categoryTitle.textContent = `Search Results for "${query}"`;
        break;
    }
  } else {
    const row = document.getElementById("trending-row");
    row.innerHTML =
      '<p style="color: #b3b3b3; padding: 20px; text-align: center;">No results found</p>';
  }
}

// Navbar scroll effect
window.addEventListener("scroll", () => {
  const navbar = document.querySelector(".navbar");
  if (window.scrollY > 50) {
    navbar.classList.add("scrolled");
  } else {
    navbar.classList.remove("scrolled");
  }
});

// Close dropdowns when clicking outside
document.addEventListener("click", (event) => {
  if (!event.target.closest(".profile-menu")) {
    document.querySelector(".profile-menu").classList.remove("active");
  }
  if (!event.target.closest(".notifications-menu")) {
    document.querySelector(".notifications-menu").classList.remove("active");
  }
  if (!event.target.closest(".search-container")) {
    document.querySelector(".search-container").classList.remove("active");
  }
});

// Keyboard navigation
document.addEventListener("keydown", (event) => {
  if (event.key === "Escape") {
    closeVideo();
  }
});

// Initialize
window.onload = () => {
  showPage("landing");
};
</script>
   
  </body>
</html>
